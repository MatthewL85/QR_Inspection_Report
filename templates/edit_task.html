{% extends 'base.html' %}
{% block content %}
<div class="dashboard-container">
  <h2>✏ Edit Maintenance Task</h2>

  <form method="POST">
    <input type="hidden" name="original_title" value="{{ task.title }}">
    <input type="hidden" name="original_date" value="{{ task.date }}">
    <input type="hidden" name="original_client" value="{{ task.client }}">

    <label>Client:</label><br>
    <select name="client" required>
      {% for client in client_names %}
        <option value="{{ client }}" {% if client == task.client %}selected{% endif %}>
          {{ client }}
        </option>
      {% endfor %}
    </select><br><br>

    <label>Task Title:</label><br>
    <input type="text" name="title" value="{{ task.title }}" required><br><br>

    <label>Scheduled Date:</label><br>
    <input type="date" name="date" value="{{ task.date }}" required><br><br>

    <label>Frequency:</label><br>
    <select name="frequency" required>
      {% for option in frequency_options %}
        <option value="{{ option }}" {% if option == task.frequency %}selected{% endif %}>
          {{ option }}
        </option>
      {% endfor %}
    </select><br><br>

    <label>Notes:</label><br>
    <textarea name="notes" rows="4">{{ task.notes }}</textarea><br><br>

    <button type="submit">💾 Save Changes</button>
  </form>

  <br>
  <a href="{{ url_for('property_manager_dashboard') }}">⬅ Cancel</a>
</div>
{% endblock %}
